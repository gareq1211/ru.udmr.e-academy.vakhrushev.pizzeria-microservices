# Pizzeria Microservices

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∏—Ü—Ü–µ—Ä–∏–µ–π. –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ —á–µ—Ä–µ–∑ HTTP REST. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

## üì¶ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:

- **menu-service** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é –ø–∏—Ü—Ü–µ—Ä–∏–∏
- **client-service** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- **order-service** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- **kitchen-service** ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –∫—É—Ö–Ω—é
- **PostgreSQL** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö (—Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å—Ö–µ–º–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞)

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Java 21 + Spring Boot 3.2
- Spring Web / Spring Data JPA
- PostgreSQL 15
- Gradle
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- REST API
- HikariCP

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
pizzeria-microservices/
‚îú‚îÄ‚îÄ client-service/
‚îú‚îÄ‚îÄ kitchen-service/
‚îú‚îÄ‚îÄ menu-service/
‚îú‚îÄ‚îÄ order-service/
‚îî‚îÄ‚îÄ docker-compose.yml (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

## üöÄ –ó–∞–ø—É—Å–∫ –±–µ–∑ Docker

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ `localhost:5432`
2. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ö–µ–º—ã –≤ –±–∞–∑–µ:
   - `menu_schema`
   - `client_schema`
   - `order_schema`
   - `kitchen_schema`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å `postgres/postgres`
4. –ò–∑ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
./gradlew bootRun
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã:
- menu-service: `localhost:8081`
- client-service: `localhost:8082`
- kitchen-service: `localhost:8083`
- order-service: `localhost:8084`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Postman

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏:
   - **–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞:** `POST http://localhost:8082/api/clients`
   - **–î–æ–±–∞–≤–∏—Ç—å –ø–∏—Ü—Ü—É –≤ –º–µ–Ω—é:** `POST http://localhost:8081/api/menu`
   - **–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑:** `POST http://localhost:8084/api/orders`
   - **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–∫–∞–∑—ã:** `GET http://localhost:8084/api/orders`

2. –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
```json
POST /api/orders
{
  "clientId": 1,
  "items": [
    { "menuItemId": 2, "quantity": 1 }
  ]
}
```

## üß© –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DBeaver

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –±–∞–∑–µ PostgreSQL
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é —Å—Ö–µ–º—É (`menu_schema`, `client_schema`, ...)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:
   - `menu_items`, `clients`, `orders`, `order_items` –∏ —Ç.–¥.
4. –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è REST-–∑–∞–ø—Ä–æ—Å–æ–≤

## üìä –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

1. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –±–∞–∑—É —Å –ø–æ–º–æ—â—å—é Postman
2. –ü–æ–∫–∞–∂–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –≤ DBeaver
3. –ü—Ä–æ—Å–ª–µ–¥–∏—Ç–µ —Ö–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞:
   - –∫–ª–∏–µ–Ω—Ç ‚Üí –∑–∞–∫–∞–∑ ‚Üí –∫—É—Ö–Ω—è

## üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –º–µ–Ω—é
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- –ü–µ—Ä–µ–¥–∞—á–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –∫—É—Ö–Ω—é
- –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π —á–µ—Ä–µ–∑ REST API
- –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ö–µ–º–∞—Ö PostgreSQL

## üì∑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Å—Ö–µ–º–∞

![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](docs/architecture.png)

## üìù –ê–≤—Ç–æ—Ä

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –∫–∞–∫ —É—á–µ–±–Ω—ã–π –ø—Ä–∏–º–µ—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≤ Java.
