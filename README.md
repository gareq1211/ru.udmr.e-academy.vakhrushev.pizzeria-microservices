# Pizzeria Microservices

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∏—Ü—Ü–µ—Ä–∏–µ–π. –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ —á–µ—Ä–µ–∑ HTTP REST. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

## üì¶ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:

- **menu-service** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é –ø–∏—Ü—Ü–µ—Ä–∏–∏
- **client-service** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- **order-service** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- **kitchen-service** ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –∫—É—Ö–Ω—é
- **PostgreSQL** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö (—Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å—Ö–µ–º–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞)

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

üß± Backend (Java / Spring Boot)
Spring Boot ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.
Spring Web ‚Äî –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è REST API.
Spring Data JPA ‚Äî ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL.
Lombok ‚Äî —É–ø—Ä–æ—â–∞–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏–µ Java-–∫–æ–¥–∞, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≥–µ—Ç—Ç–µ—Ä—ã/—Å–µ—Ç—Ç–µ—Ä—ã/–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã.
Jackson ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ JSON.
Validation (spring-boot-starter-validation) ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö DTO.
WebClient ‚Äî –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏.
üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
PostgreSQL ‚Äî —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –°–£–ë–î, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö.
Hibernate ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è JPA, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Spring Boot.
HikariCP ‚Äî –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∫ –ë–î.
DBeaver ‚Äî –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î.
üåê –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã :
order-service ‚Äî –∑–∞–∫–∞–∑—ã
client-service ‚Äî –∫–ª–∏–µ–Ω—Ç—ã
menu-service ‚Äî –º–µ–Ω—é
kitchen-service ‚Äî –∑–∞–¥–∞—á–∏ –Ω–∞ –∫—É—Ö–Ω–µ
–°–≤—è–∑—å –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ —á–µ—Ä–µ–∑ WebClient
–û–±—â–∏–π –º–æ–¥—É–ª—å shared ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—â–∏–µ –∫–ª–∞—Å—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, KitchenTask, DTO, –∏—Å–∫–ª—é—á–µ–Ω–∏—è).
üê≥ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
Docker ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ –∏ PostgreSQL.
Docker Compose ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏.
–ú–Ω–æ–≥–æ–º–æ–¥—É–ª—å–Ω—ã–π Gradle ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å –æ–±—â–∏–π shared –º–æ–¥—É–ª—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –¥—Ä—É–≥–∏—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö.
üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞
Postman ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ REST API, –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–∏—Å–∞–º.
–õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Spring Boot + Logback) ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.
JUnit 5 ‚Äî –º–æ–¥—É–ª—å–Ω—ã–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã.
H2 Database (–¥–ª—è —Ç–µ—Å—Ç–æ–≤) ‚Äî –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –ë–î –¥–ª—è unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
‚öôÔ∏è Build Tool
Gradle ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.
Java 21 —Å–º–µ—à–∞–Ω–Ω–æ ‚Äî –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ Java –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–æ–µ–∫—Ç–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å (–ª—É—á—à–µ –≤—ã–±—Ä–∞—Ç—å 21).
Maven Central ‚Äî —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
pizzeria-microservices/
‚îú‚îÄ‚îÄ client-service/
‚îú‚îÄ‚îÄ kitchen-service/
‚îú‚îÄ‚îÄ menu-service/
‚îú‚îÄ‚îÄ order-service/
‚îî‚îÄ‚îÄ docker-compose.yml (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

## üöÄ –ó–∞–ø—É—Å–∫ –±–µ–∑ Docker

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ `localhost:5432`
2. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ö–µ–º—ã –≤ –±–∞–∑–µ:
   - `menu_schema`
   - `client_schema`
   - `order_schema`
   - `kitchen_schema`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å `postgres/postgres`
4. –ò–∑ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
./gradlew bootRun
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã:
- menu-service: `localhost:8081`
- client-service: `localhost:8082`
- kitchen-service: `localhost:8083`
- order-service: `localhost:8084`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Postman

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏:
   - **–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞:** `POST http://localhost:8082/api/clients`
   - **–î–æ–±–∞–≤–∏—Ç—å –ø–∏—Ü—Ü—É –≤ –º–µ–Ω—é:** `POST http://localhost:8081/api/menu`
   - **–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑:** `POST http://localhost:8084/api/orders`
   - **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–∫–∞–∑—ã:** `GET http://localhost:8084/api/orders`

2. –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
```json
POST /api/orders
{
  "clientId": 1,
  "items": [
    { "menuItemId": 2, "quantity": 1 }
  ]
}
```

## üß© –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DBeaver

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –±–∞–∑–µ PostgreSQL
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é —Å—Ö–µ–º—É (`menu_schema`, `client_schema`, ...)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:
   - `menu_items`, `clients`, `orders`, `order_items` –∏ —Ç.–¥.
4. –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è REST-–∑–∞–ø—Ä–æ—Å–æ–≤

## üìä –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

1. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –±–∞–∑—É —Å –ø–æ–º–æ—â—å—é Postman
2. –ü–æ–∫–∞–∂–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –≤ DBeaver
3. –ü—Ä–æ—Å–ª–µ–¥–∏—Ç–µ —Ö–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞:
   - –∫–ª–∏–µ–Ω—Ç ‚Üí –∑–∞–∫–∞–∑ ‚Üí –∫—É—Ö–Ω—è

## üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –º–µ–Ω—é
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- –ü–µ—Ä–µ–¥–∞—á–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –∫—É—Ö–Ω—é
- –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π —á–µ—Ä–µ–∑ REST API
- –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ö–µ–º–∞—Ö PostgreSQL

## üì∑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Å—Ö–µ–º–∞

![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](docs/architecture.png)

## üìù –ê–≤—Ç–æ—Ä

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –∫–∞–∫ —É—á–µ–±–Ω—ã–π –ø—Ä–∏–º–µ—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≤ Java.
